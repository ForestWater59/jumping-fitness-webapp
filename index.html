<!DOCTYPE html> <html> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>–ó–∞–ø–∏—Å—å –Ω–∞ –ø—Ä–æ–±–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ</title> <script src="https://telegram.org/js/telegram-web-app.js"></script> <style> * { margin: 0; padding: 0; box-sizing: border-box; }
text
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 
                     Roboto, Helvetica, Arial, sans-serif;
        background-color: var(--tg-theme-bg-color);
        color: var(--tg-theme-text-color);
        padding: 20px;
        min-height: 100vh;
    }

    .container {
        max-width: 500px;
        margin: 0 auto;
    }

    h2 {
        margin-bottom: 10px;
        font-size: 24px;
    }

    .info {
        color: var(--tg-theme-hint-color);
        font-size: 14px;
        margin-bottom: 20px;
        padding: 12px;
        background-color: var(--tg-theme-secondary-bg-color);
        border-radius: 8px;
    }

    .form-group {
        margin-bottom: 20px;
        display: flex;
        flex-direction: column;
    }

    label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
        color: var(--tg-theme-text-color);
        font-size: 14px;
    }

    input, textarea, select {
        width: 100%;
        padding: 12px 14px;
        border: 1px solid var(--tg-theme-hint-color);
        border-radius: 8px;
        font-size: 16px;
        font-family: inherit;
        background-color: var(--tg-theme-secondary-bg-color);
        color: var(--tg-theme-text-color);
        transition: border-color 0.3s ease;
    }

    input:focus, textarea:focus, select:focus {
        outline: none;
        border-color: #0088cc;
    }

    textarea {
        resize: vertical;
        min-height: 80px;
    }

    .error {
        color: #ff3b30;
        font-size: 12px;
        margin-top: 5px;
        display: none;
    }

    .required {
        color: #ff3b30;
    }

    .success-message {
        display: none;
        padding: 16px;
        background-color: #34C759;
        color: white;
        border-radius: 8px;
        text-align: center;
        margin-bottom: 20px;
    }
</style>
</head> <body> <div class="container"> <h2>üìù –ó–∞–ø–∏—Å—å –Ω–∞ –ø—Ä–æ–±–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ</h2> <div class="info"> <strong>–°—Ç–æ–∏–º–æ—Å—Ç—å:</strong> 300 —Ä—É–±–ª–µ–π üí∞<br> <strong>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:</strong> ~1 —á–∞—Å ‚è∞<br> <strong>–£—Ä–æ–≤–µ–Ω—å:</strong> –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤ üéØ </div>
text
    <div class="success-message" id="successMessage">
        ‚úÖ –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã! –û–∂–∏–¥–∞–π—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ –æ–ø–ª–∞—Ç—É...
    </div>

    <form id="bookingForm">
        <!-- –ò–º—è -->
        <div class="form-group">
            <label for="name">
                –í–∞—à–µ –∏–º—è <span class="required">*</span>
            </label>
            <input 
                type="text" 
                id="name" 
                required 
                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –ï–ª–µ–Ω–∞"
                maxlength="100"
            >
            <div class="error" id="nameError">
                ‚ùå –í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è (–º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞)
            </div>
        </div>

        <!-- –¢–µ–ª–µ—Ñ–æ–Ω -->
        <div class="form-group">
            <label for="phone">
                –¢–µ–ª–µ—Ñ–æ–Ω <span class="required">*</span>
            </label>
            <input 
                type="tel" 
                id="phone" 
                required 
                placeholder="+7 900 123-45-67"
                maxlength="20"
            >
            <div class="error" id="phoneError">
                ‚ùå –í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä –≤ —Ñ–æ—Ä–º–∞—Ç–µ +7–•–•–•–•–•–•–•–•–•–• –∏–ª–∏ 8–•–•–•–•–•–•–•–•–•–•
            </div>
        </div>

        <!-- –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è -->
        <div class="form-group">
            <label for="datetime">
                –ñ–µ–ª–∞–µ–º–∞—è –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è <span class="required">*</span>
            </label>
            <input 
                type="text" 
                id="datetime" 
                required 
                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –∑–∞–≤—Ç—Ä–∞ –≤ 18:00 –∏–ª–∏ 3 –Ω–æ—è–±—Ä—è, –≤–µ—á–µ—Ä–æ–º"
                maxlength="200"
            >
            <div class="error" id="datetimeError">
                ‚ùå –£–∫–∞–∂–∏—Ç–µ –∂–µ–ª–∞–µ–º—É—é –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è
            </div>
        </div>

        <!-- –¶–µ–ª–∏ -->
        <div class="form-group">
            <label for="goals">–í–∞—à–∏ —Ü–µ–ª–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
            <textarea 
                id="goals" 
                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ø–æ—Ö—É–¥–µ—Ç—å, —É–ª—É—á—à–∏—Ç—å –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å, –ø—Ä–∏–≤–µ—Å—Ç–∏ —Å–µ–±—è –≤ —Ç–æ–Ω—É—Å, —É–∫—Ä–µ–ø–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ"
                maxlength="300"
            ></textarea>
        </div>

        <!-- –°–ø–æ—Å–æ–± —Å–≤—è–∑–∏ -->
        <div class="form-group">
            <label for="contact">
                –£–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–≤—è–∑–∏ <span class="required">*</span>
            </label>
            <select id="contact" required>
                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± —Å–≤—è–∑–∏ --</option>
                <option value="whatsapp">üì± WhatsApp</option>
                <option value="telegram">‚úàÔ∏è Telegram</option>
                <option value="phone">‚òéÔ∏è –¢–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π –∑–≤–æ–Ω–æ–∫</option>
            </select>
            <div class="error" id="contactError">
                ‚ùå –í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± —Å–≤—è–∑–∏
            </div>
        </div>
    </form>
</div>

<script>
    // === –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø TELEGRAM WEB APP ===
    let tg = window.Telegram.WebApp;
    tg.expand(); // –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

    // ========== –§–£–ù–ö–¶–ò–ò –í–ê–õ–ò–î–ê–¶–ò–ò ==========

    /**
     * –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
     * –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç—ã:
     * +7 900 123 45 67
     * +79001234567
     * 8 900 123 45 67
     * 89001234567
     */
    function validatePhone(phone) {
        const cleaned = phone.replace(/[\s\-$$$$]/g, '');
        // +7–•–•–•–•–•–•–•–•–•–• –∏–ª–∏ 8–•–•–•–•–•–•–•–•–•–• –∏–ª–∏ 7–•–•–•–•–•–•–•–•–•–•
        const regex = /^(\+7|8|7)\d{10}$/;
        return regex.test(cleaned);
    }

    /**
     * –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∫ —Ñ–æ—Ä–º–∞—Ç—É +7–•–•–•–•–•–•–•–•–•–•
     * –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç: 89001234567 ‚Üí +79001234567
     */
    function normalizePhone(phone) {
        let cleaned = phone.replace(/[\s\-$$$$]/g, '');
        
        if (cleaned.startsWith('8')) {
            // 8–•–•–•–•–•–•–•–•–•–• ‚Üí +7–•–•–•–•–•–•–•–•–•–•
            cleaned = '+7' + cleaned.substring(1);
        } else if (cleaned.startsWith('7') && !cleaned.startsWith('+7')) {
            // 7–•–•–•–•–•–•–•–•–•–• ‚Üí +7–•–•–•–•–•–•–•–•–•–•
            cleaned = '+' + cleaned;
        } else if (!cleaned.startsWith('+')) {
            // –î–æ–±–∞–≤–ª—è–µ–º + –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
            cleaned = '+' + cleaned;
        }
        
        return cleaned;
    }

    /**
     * –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
     */
    function validateForm() {
        let isValid = true;

        // –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è
        const name = document.getElementById('name').value.trim();
        const phone = document.getElementById('phone').value.trim();
        const datetime = document.getElementById('datetime').value.trim();
        const contact = document.getElementById('contact').value;

        // –°–∫—Ä—ã—Ç—å –≤—Å–µ –æ—à–∏–±–∫–∏
        document.querySelectorAll('.error').forEach(el => {
            el.style.display = 'none';
        });

        // –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–º–µ–Ω–∏
        if (!name || name.length < 2) {
            document.getElementById('nameError').style.display = 'block';
            isValid = false;
        }

        // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞
        if (!validatePhone(phone)) {
            document.getElementById('phoneError').style.display = 'block';
            isValid = false;
        }

        // –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç—ã/–≤—Ä–µ–º–µ–Ω–∏
        if (!datetime || datetime.length < 3) {
            document.getElementById('datetimeError').style.display = 'block';
            isValid = false;
        }

        // –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–ø–æ—Å–æ–±–∞ —Å–≤—è–∑–∏
        if (!contact) {
            document.getElementById('contactError').style.display = 'block';
            isValid = false;
        }

        return isValid;
    }

    // ========== –ù–ê–°–¢–†–û–ô–ö–ê UI ==========

    // –ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞
    tg.MainButton.setText('‚úÖ –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∫ –æ–ø–ª–∞—Ç–µ');
    tg.MainButton.textColor = '#FFFFFF';
    tg.MainButton.color = '#0088cc';
    tg.MainButton.show();

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –≥–ª–∞–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏
    tg.MainButton.onClick(function() {
        if (validateForm()) {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
            document.getElementById('successMessage').style.display = 'block';
            
            // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ
            const formData = {
                name: document.getElementById('name').value.trim(),
                phone: normalizePhone(document.getElementById('phone').value.trim()),
                datetime: document.getElementById('datetime').value.trim(),
                goals: document.getElementById('goals').value.trim() || '–ù–µ —É–∫–∞–∑–∞–Ω—ã',
                contact: document.getElementById('contact').value
            };

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –±–æ—Ç—É —á–µ—Ä–µ–∑ Web App API
            tg.sendData(JSON.stringify(formData));
        } else {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
            tg.showAlert('‚ö†Ô∏è –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ');
        }
    });

    // –°–æ–æ–±—â–∞–µ–º Telegram, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ
    tg.ready();
</script>
</body> </html> 
